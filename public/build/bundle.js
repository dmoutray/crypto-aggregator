var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function s(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function p(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t){return""===t?null:+t}function g(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}function v(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}let b;function y(t){b=t}const _=[],k=[],x=[],P=[],I=Promise.resolve();let M=!1;function C(t){x.push(t)}let E=!1;const j=new Set;function w(){if(!E){E=!0;do{for(let t=0;t<_.length;t+=1){const e=_[t];y(e),S(e.$$)}for(y(null),_.length=0;k.length;)k.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];j.has(e)||(j.add(e),e())}x.length=0}while(_.length);for(;P.length;)P.pop()();M=!1,E=!1,j.clear()}}function S(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const V=new Set;function A(t,e){t&&t.i&&(V.delete(t),t.i(e))}function N(t,n,c,u){const{fragment:l,on_mount:i,on_destroy:s,after_update:a}=t.$$;l&&l.m(n,c),u||C((()=>{const n=i.map(e).filter(o);s?s.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(C)}function O(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function T(t,e){-1===t.$$.dirty[0]&&(_.push(t),M||(M=!0,I.then(w)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(e,o,c,u,l,s,a=[-1]){const f=b;y(e);const d=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:o.context||[]),callbacks:n(),dirty:a,skip_bound:!1};let p=!1;if(d.ctx=c?c(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),p&&T(e,t)),n})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!u&&u(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(i)}else d.fragment&&d.fragment.c();o.intro&&A(e.$$.fragment),N(e,o.target,o.anchor,o.customElement),w()}y(f)}class F{$destroy(){O(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function L(e){let n,r,o,c,s,p,m,$,v;return{c(){n=a("h1"),n.textContent="Investment Aggre-gator 🐊",r=d(),o=a("h2"),c=f("Total Invested: "),s=f(e[0]),p=d(),m=a("h2"),$=f("Current investment value: "),v=f(e[1]),h(n,"class","svelte-9poqjx")},m(t,e){l(t,n,e),l(t,r,e),l(t,o,e),u(o,c),u(o,s),l(t,p,e),l(t,m,e),u(m,$),u(m,v)},p(t,[e]){1&e&&g(s,t[0]),2&e&&g(v,t[1])},i:t,o:t,d(t){t&&i(n),t&&i(r),t&&i(o),t&&i(p),t&&i(m)}}}function J(t,e,n){let{totalInvested:r=0}=e,{currentInvestmentValue:o=0}=e;return t.$$set=t=>{"totalInvested"in t&&n(0,r=t.totalInvested),"currentInvestmentValue"in t&&n(1,o=t.currentInvestmentValue)},[r,o]}class B extends F{constructor(t){super(),q(this,t,J,L,c,{totalInvested:0,currentInvestmentValue:1})}}function H(t,e,n){const r=t.slice();return r[12]=e[n],r}function z(t,e,n){const r=t.slice();return r[15]=e[n],r}function D(t,e,n){const r=t.slice();return r[15]=e[n],r[18]=e,r[19]=n,r}function G(t){let e,n,o,c,s,v,b,y,_,k,x=t[15].symbol+"";function P(){t[6].call(v,t[18],t[19])}function I(){t[7].call(y,t[18],t[19])}return{c(){e=a("div"),n=a("div"),o=a("span"),c=f(x),s=d(),v=a("input"),b=d(),y=a("input"),h(o,"class","form-coin-name"),h(v,"type","number"),h(y,"type","number")},m(r,i){l(r,e,i),u(e,n),u(n,o),u(o,c),u(n,s),u(n,v),$(v,t[15].amount),u(n,b),u(n,y),$(y,t[15].purchasePrice),_||(k=[p(v,"input",P),p(y,"input",I)],_=!0)},p(e,n){t=e,1&n&&x!==(x=t[15].symbol+"")&&g(c,x),1&n&&m(v.value)!==t[15].amount&&$(v,t[15].amount),1&n&&m(y.value)!==t[15].purchasePrice&&$(y,t[15].purchasePrice)},d(t){t&&i(e),_=!1,r(k)}}}function K(e){let n,r,o=e[15]+"";return{c(){n=a("option"),r=f(o),n.__value=e[15],n.value=n.__value},m(t,e){l(t,n,e),u(n,r)},p:t,d(t){t&&i(n)}}}function Q(t){let e,n,r,o,c,s,p,h,m,$,v=t[12].symbol+"",b=t[12].currentMarketPrice.gbp+"",y=t[12].currentMarketPrice.usd+"";return{c(){e=a("tr"),n=a("th"),r=f(v),o=d(),c=a("td"),s=f(b),p=d(),h=a("td"),m=f(y),$=d()},m(t,i){l(t,e,i),u(e,n),u(n,r),u(e,o),u(e,c),u(c,s),u(e,p),u(e,h),u(h,m),u(e,$)},p(t,e){1&e&&v!==(v=t[12].symbol+"")&&g(r,v),1&e&&b!==(b=t[12].currentMarketPrice.gbp+"")&&g(s,b),1&e&&y!==(y=t[12].currentMarketPrice.usd+"")&&g(m,y)},d(t){t&&i(e)}}}function R(t){let e,n,o,c,f,m,g,$,b,y,_,k,x,P,I,M,E,j,w,S;o=new B({props:{totalInvested:t[3],currentInvestmentValue:t[2]}});let T=t[0],q=[];for(let e=0;e<T.length;e+=1)q[e]=G(D(t,T,e));let F=t[4],L=[];for(let e=0;e<F.length;e+=1)L[e]=K(z(t,F,e));let J=t[0],R=[];for(let e=0;e<J.length;e+=1)R[e]=Q(H(t,J,e));return{c(){var r;e=a("div"),n=a("div"),(r=o.$$.fragment)&&r.c(),c=d();for(let t=0;t<q.length;t+=1)q[t].c();f=d(),m=a("div"),g=a("div"),$=a("select");for(let t=0;t<L.length;t+=1)L[t].c();b=d(),y=a("button"),y.textContent="add coin",_=d(),k=a("div"),x=a("h2"),x.textContent="Current Market Price",P=d(),I=a("table"),M=a("thead"),M.innerHTML="<tr><th>coin</th> \n          <th>£ gbp</th> \n          <th>$ usd</th></tr>",E=d();for(let t=0;t<R.length;t+=1)R[t].c();void 0===t[1]&&C((()=>t[8].call($))),h(e,"class","container")},m(r,i){l(r,e,i),u(e,n),N(o,n,null),u(e,c);for(let t=0;t<q.length;t+=1)q[t].m(e,null);u(e,f),u(e,m),u(m,g),u(g,$);for(let t=0;t<L.length;t+=1)L[t].m($,null);v($,t[1]),u(g,b),u(g,y),u(e,_),u(e,k),u(k,x),u(k,P),u(k,I),u(I,M),u(I,E);for(let t=0;t<R.length;t+=1)R[t].m(I,null);j=!0,w||(S=[p($,"change",t[8]),p(y,"click",t[5])],w=!0)},p(t,[n]){const r={};if(8&n&&(r.totalInvested=t[3]),4&n&&(r.currentInvestmentValue=t[2]),o.$set(r),1&n){let r;for(T=t[0],r=0;r<T.length;r+=1){const o=D(t,T,r);q[r]?q[r].p(o,n):(q[r]=G(o),q[r].c(),q[r].m(e,f))}for(;r<q.length;r+=1)q[r].d(1);q.length=T.length}if(16&n){let e;for(F=t[4],e=0;e<F.length;e+=1){const r=z(t,F,e);L[e]?L[e].p(r,n):(L[e]=K(r),L[e].c(),L[e].m($,null))}for(;e<L.length;e+=1)L[e].d(1);L.length=F.length}if(18&n&&v($,t[1]),1&n){let e;for(J=t[0],e=0;e<J.length;e+=1){const r=H(t,J,e);R[e]?R[e].p(r,n):(R[e]=Q(r),R[e].c(),R[e].m(I,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=J.length}},i(t){j||(A(o.$$.fragment,t),j=!0)},o(t){!function(t,e,n,r){if(t&&t.o){if(V.has(t))return;V.add(t),(void 0).c.push((()=>{V.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}(o.$$.fragment,t),j=!1},d(t){t&&i(e),O(o),s(q,t),s(L,t),s(R,t),w=!1,r(S)}}}function U(t,e,n){let r,o,c,u=["gbp","usd"],l=["bitcoin","cardano","ark","dogecoin"],i=localStorage.getItem("coinInformation");c=i?JSON.parse(i):[{symbol:"bitcoin",amount:0,purchasePrice:0,currentMarketPrice:{gbp:0,usd:0}},{symbol:"cardano",amount:0,purchasePrice:0,currentMarketPrice:{gbp:0,usd:0}}];let s=l[0];function a(){return fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${c.map((t=>t.symbol)).join("%2C")}&vs_currencies=${u.join("%2C")}`).then((t=>t.json())).then((t=>{let e=c.map((e=>(e.currentMarketPrice.gbp=parseFloat(t[e.symbol].gbp),e.currentMarketPrice.usd=parseFloat(t[e.symbol].usd),e)));return n(0,c=[...e]),localStorage.setItem("coinInformation",JSON.stringify(c)),t}))}return a(),setInterval(a,1e4),t.$$.update=()=>{1&t.$$.dirty&&n(2,r=c.reduce((function(t,e){return 0!==e.currentMarketPrice?t+e.amount*(e.purchasePrice/e.currentMarketPrice.gbp):0}),0).toFixed(2)),1&t.$$.dirty&&n(3,o=c.reduce(((t,e)=>t+e.amount),0))},[c,s,r,o,l,function(){n(0,c=[...c,{symbol:s,amount:0,purchasePrice:0,currentMarketPrice:{gbp:0,usd:0}}]),a()},function(t,e){t[e].amount=m(this.value),n(0,c)},function(t,e){t[e].purchasePrice=m(this.value),n(0,c)},function(){s=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(1,s),n(4,l)}]}return new class extends F{constructor(t){super(),q(this,t,U,R,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
